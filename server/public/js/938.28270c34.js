"use strict";(self["webpackChunkedrans_client"]=self["webpackChunkedrans_client"]||[]).push([[938],{8938:(e,t,o)=>{o.r(t),o.d(t,{default:()=>_});var a=o(3673);const i={class:"row justify-between"},l={key:0},s={class:"row justify-end q-gutter-md"},u=(0,a.Uk)(" Cancelar ");function r(e,t,o,r,d,n){const m=(0,a.up)("q-btn"),c=(0,a.up)("q-img"),p=(0,a.up)("q-card-section"),g=(0,a.up)("q-separator"),h=(0,a.up)("q-input"),q=(0,a.up)("q-uploader"),f=(0,a.up)("q-card"),v=(0,a.up)("q-form"),b=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(b,{padding:"",class:"flex justify-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{class:"q-gutter-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{class:"my-card q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{horizontal:""},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{style:{width:"100%"}},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(d.productDetails.fotos,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e},[(0,a._)("div",null,[(0,a.Wm)(c,{src:"https://coderhouse-ecommerce.s3.amazonaws.com/"+e,style:{height:"140px","max-width":"150px"},fit:"contain","no-native-menu":""},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{class:"absolute all-pointer-events",style:{top:"8",right:"8"},icon:"close",color:"red",round:"",onClick:t=>n.removeImage(e)},null,8,["onClick"])])),_:2},1032,["src"])])])))),128))])),_:1}),(0,a.Wm)(g,{vertical:""}),(0,a.Wm)(p,{style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:d.productDetails.nombre,"onUpdate:modelValue":t[0]||(t[0]=e=>d.productDetails.nombre=e),name:"nombre",label:"Nombre",rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"]),(0,a.Wm)(h,{modelValue:d.productDetails.precio,"onUpdate:modelValue":t[1]||(t[1]=e=>d.productDetails.precio=e),type:"precio",name:"precio",label:"Precio",rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"]),(0,a.Wm)(h,{modelValue:d.productDetails.stock,"onUpdate:modelValue":t[2]||(t[2]=e=>d.productDetails.stock=e),type:"stock",name:"stock",label:"Stock",rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"]),(0,a.Wm)(h,{modelValue:d.productDetails.categoria,"onUpdate:modelValue":t[3]||(t[3]=e=>d.productDetails.categoria=e),type:"categoria",name:"categoria",label:"CategorÃ­a",rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"])])),_:1})])),_:1}),(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a._)("div",i,[d.productDetails.fotos.length<5&&!d.loading?((0,a.wg)(),(0,a.iD)("div",l,[(0,a.Wm)(q,{label:"Agregar imagen","no-thumbnails":"",factory:n.factoryFn,onUploaded:n.getProductDetails,style:{"max-width":"300px"},accept:".jpg, image/*","max-files":1},null,8,["factory","onUploaded"])])):(0,a.kq)("",!0),(0,a._)("div",s,[(0,a._)("div",null,[(0,a.Wm)(m,{flat:"",color:"primary"},{default:(0,a.w5)((()=>[u])),_:1})]),(0,a._)("div",null,[(0,a.Wm)(m,{color:"primary",label:"Guardar",loading:d.loadingBtn},null,8,["loading"])])])])])),_:1})])),_:1})])),_:1})])),_:1})}const d={name:"RegisterPage",data(){return{loadingBtn:!1,loading:!1,lorem:"Lorem ipsum dolor sit amet. Repudiandae esse eum excepturi reiciendis est possimus voluptatibus et rerum aperiam nam molestias debitis et veritatis deserunt. Et dolor explicabo sit velit dignissimos et tempora dolores sed numquam corrupti qui voluptatem incidunt! A quia pariatur qui velit ipsum eum nesciunt nobis qui dolor rerum a odio voluptatem 33 iste repellat. Vel explicabo expedita et dolorum adipisci et natus dolores qui ipsum veritatis. </p><p>Aut dignissimos ullam qui dolorum dicta ad voluptatem rerum? Cum voluptatibus inventore ut impedit veniam quo illo Quis rem quas inventore ut cumque consequatur rem delectus facilis sit omnis sunt. Id obcaecati dolorum et aliquam odit qui delectus eius cum molestiae sunt. </p><p>Ut consequatur excepturi eum ipsa quia aut optio mollitia. Eos amet internos et modi commodi eum accusamus accusamus aut minima tempore sed impedit dolore sit provident suscipit et magnam placeat.",slide:1,rating:4,qty:1,productDetails:{nombre:"",descripcion:"",categoria:"",precio:0,stock:0,fotos:[],id:""}}},created(){this.getProductDetails()},methods:{getProductDetails(){this.loading=!0,this.$axios.get("/api/products/"+this.$route.params.id).then((e=>{this.productDetails=e.data.data,this.loading=!1})).catch((e=>{console.log(e)}))},removeImage(e){console.log(e),console.log(this.productDetails.id),this.$axios.put("api/image",{filename:e,productId:this.productDetails.id}).then((()=>{this.getProductDetails(),this.$q.notify({position:"bottom-right",color:"positive",message:"Image has been removed"})})).catch((e=>{console.log(e),this.$q.notify({position:"bottom-right",color:"negative",message:"Image could not be removed"})}))},factoryFn(e){return new Promise(((t,o)=>{this.$axios.post("api/image/presignedurl",{productId:this.productDetails.id,type:e[0].type}).then((e=>{const o=e.data.data;console.log(o),t({url:o,method:"PUT",sendRaw:!0})})).catch((e=>{o(e)}))}))}}};var n=o(4260),m=o(4379),c=o(5269),p=o(151),g=o(5589),h=o(4027),q=o(8240),f=o(5869),v=o(4842),b=o(3768),w=o(7518),y=o.n(w);const D=(0,n.Z)(d,[["render",r],["__scopeId","data-v-601cef59"]]),_=D;y()(d,"components",{QPage:m.Z,QForm:c.Z,QCard:p.Z,QCardSection:g.Z,QImg:h.Z,QBtn:q.Z,QSeparator:f.Z,QInput:v.Z,QUploader:b.Z})}}]);