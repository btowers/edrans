"use strict";(self["webpackChunkedrans_client"]=self["webpackChunkedrans_client"]||[]).push([[418],{9418:(e,r,a)=>{a.r(r),a.d(r,{default:()=>R});var l=a(3673),s=a(8880);const o={class:"row justify-end q-py-md"},i={class:"q-mr-md"};function t(e,r,a,t,n,d){const u=(0,l.up)("q-input"),m=(0,l.up)("q-icon"),p=(0,l.up)("q-form"),c=(0,l.up)("q-card-section"),f=(0,l.up)("q-separator"),h=(0,l.up)("q-toggle"),y=(0,l.up)("q-btn"),g=(0,l.up)("q-card"),b=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(b,{padding:"",class:"flex flex-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{class:"register"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{horizontal:""},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{style:{width:"100%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{onKeyup:(0,s.D2)(d.registerUser,["enter"]),modelValue:n.user.nombre,"onUpdate:modelValue":r[0]||(r[0]=e=>n.user.nombre=e),name:"nombre",ref:"nombreRef",label:"Nombre","lazy-rules":"",rules:[e=>!!e||"Campo requerido",e=>e.length>3||"Field must have at least 4 characters"]},null,8,["onKeyup","modelValue","rules"]),(0,l.Wm)(u,{onKeyup:(0,s.D2)(d.registerUser,["enter"]),modelValue:n.user.email,"onUpdate:modelValue":r[1]||(r[1]=e=>n.user.email=e),type:"email",name:"email",ref:"emailRef",label:"Email","lazy-rules":"",rules:[e=>!!e||"Campo requerido",e=>!!e.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)||"Invalid email"]},null,8,["onKeyup","modelValue","rules"]),(0,l.Wm)(u,{onKeyup:(0,s.D2)(d.registerUser,["enter"]),modelValue:n.user.password,"onUpdate:modelValue":r[3]||(r[3]=e=>n.user.password=e),type:n.isPwd?"password":"text",name:"password",ref:"passwordRef",label:"Contraseña","lazy-rules":"",rules:[e=>!!e||"Campo requerido",e=>!!e.match(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&])[A-Za-z\d$@$!%*?&]{8,}/)||"La contraseña debe contener al menos 8 caracteres, 1 numero, 1 letra mayuscula y un símbolo"]},{append:(0,l.w5)((()=>[(0,l.Wm)(m,{name:n.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:r[2]||(r[2]=e=>n.isPwd=!n.isPwd)},null,8,["name"])])),_:1},8,["onKeyup","modelValue","type","rules"]),(0,l.Wm)(u,{onKeyup:(0,s.D2)(d.registerUser,["enter"]),modelValue:n.user.confirmPassword,"onUpdate:modelValue":r[5]||(r[5]=e=>n.user.confirmPassword=e),type:n.isPwd?"password":"text",name:"passwordRepeat",ref:"passwordRef",label:"Repita Contraseña","lazy-rules":"",rules:[e=>!!e||"Campo requerido",e=>e===n.user.password||"Las contraseñas no coinciden"]},{append:(0,l.w5)((()=>[(0,l.Wm)(m,{name:n.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:r[4]||(r[4]=e=>n.isPwd=!n.isPwd)},null,8,["name"])])),_:1},8,["onKeyup","modelValue","type","rules"])])),_:1})])),_:1}),(0,l.Wm)(f,{vertical:""}),(0,l.Wm)(c,{style:{width:"100%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{onKeyup:(0,s.D2)(d.registerUser,["enter"]),modelValue:n.user.identificador,"onUpdate:modelValue":r[6]||(r[6]=e=>n.user.identificador=e),"reverse-fill-mask":"",name:"identificador",ref:"identificadorRef",label:"DNI","lazy-rules":"",rules:[e=>!!e||"Campo requerido",e=>!!e.match(/^[0-9]{7,8}$/)||"El DNI debe tener entre 7 y 8 digitos"]},null,8,["onKeyup","modelValue","rules"]),(0,l.Wm)(u,{onKeyup:(0,s.D2)(d.registerUser,["enter"]),modelValue:n.user.direccion.calle,"onUpdate:modelValue":r[7]||(r[7]=e=>n.user.direccion.calle=e),name:"calle",ref:"calleRef",label:"Calle","lazy-rules":"",rules:[e=>!!e||"Campo requerido",e=>!!e.match(/^[a-zA-Z0-9\s]{3,}$/)||"La calle debe tener al menos 3 caracteres"]},null,8,["onKeyup","modelValue","rules"]),(0,l.Wm)(u,{onKeyup:(0,s.D2)(d.registerUser,["enter"]),modelValue:n.user.direccion.altura,"onUpdate:modelValue":r[8]||(r[8]=e=>n.user.direccion.altura=e),name:"altura",ref:"alturaRef",label:"Altura","lazy-rules":"",rules:[e=>!!e||"Campo requerido",e=>!!e.match(/^[0-9]{1,4}$/)||"La altura debe tener entre 1 y 4 digitos"]},null,8,["onKeyup","modelValue","rules"]),(0,l.Wm)(u,{onKeyup:(0,s.D2)(d.registerUser,["enter"]),modelValue:n.user.direccion.cp,"onUpdate:modelValue":r[9]||(r[9]=e=>n.user.direccion.cp=e),name:"cp",ref:"cpRef",label:"CP","lazy-rules":"",rules:[e=>!!e||"Campo requerido",e=>!!e.match(/^[0-9]{1,4}$/)||"El CP debe tener entre 1 y 4 digitos"]},null,8,["onKeyup","modelValue","rules"]),(0,l.Wm)(u,{onKeyup:(0,s.D2)(d.registerUser,["enter"]),modelValue:n.user.direccion.piso,"onUpdate:modelValue":r[10]||(r[10]=e=>n.user.direccion.piso=e),name:"piso",ref:"pisoRef",label:"Piso","lazy-rules":"",rules:[e=>!!e.match(/^(\s*|\d+)$/)||"El piso debe tener entre 0 y 3 digitos"]},null,8,["onKeyup","modelValue","rules"]),(0,l.Wm)(u,{onKeyup:(0,s.D2)(d.registerUser,["enter"]),modelValue:n.user.direccion.departamento,"onUpdate:modelValue":r[11]||(r[11]=e=>n.user.direccion.departamento=e),name:"departamento",ref:"departamentoRef",label:"Departamento","lazy-rules":"",rules:[e=>!!e.match(/^[a-zA-Z]{0,3}$/)||"El departamento debe tener entre 0 y 3 letras"]},null,8,["onKeyup","modelValue","rules"]),(0,l.Wm)(h,{label:"Administrador",modelValue:n.user.admin,"onUpdate:modelValue":r[12]||(r[12]=e=>n.user.admin=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l._)("div",o,[(0,l._)("div",i,[(0,l.Wm)(y,{disable:n.loading,flat:"",onClick:r[13]||(r[13]=e=>this.$router.push("/login")),color:"primary",label:"Login"},null,8,["disable"])]),(0,l._)("div",null,[(0,l.Wm)(y,{disable:n.loading,loading:n.loading,onClick:d.registerUser,color:"primary",label:"Register"},null,8,["disable","loading","onClick"])])])])),_:1})])),_:1})])),_:1})}const n={name:"RegisterPage",data(){return{loading:!1,user:{nombre:"",email:"",password:"",confirmPassword:"",direccion:{calle:"",altura:"",cp:"",piso:"",departamento:""},identificador:"",admin:!1},isPwd:!0}},methods:{async registerUser(){this.isInvalidForm()||(this.loading=!0,this.$axios({method:"POST",url:"/api/user/signup",headers:{"Content-Type":"application/json",Accept:"application/json"},data:this.user}).then((e=>{this.$q.notify({position:"bottom-right",color:"positive",message:"Usuario registrado con exito"}),this.$router.push("/login"),this.loading=!1})).catch((e=>{this.$q.notify({position:"bottom-right",color:"negative",message:"email/identificador ya registrado"}),this.loading=!1})))},isInvalidForm(){return this.$refs.nombreRef.validate(),this.$refs.emailRef.validate(),this.$refs.passwordRef.validate(),this.$refs.identificadorRef.validate(),this.$refs.calleRef.validate(),this.$refs.alturaRef.validate(),this.$refs.cpRef.validate(),this.$refs.pisoRef.validate(),this.$refs.departamentoRef.validate(),!!(this.$refs.nombreRef.hasError||this.$refs.emailRef.hasError||this.$refs.passwordRef.hasError||this.$refs.identificadorRef.hasError||this.$refs.calleRef.hasError||this.$refs.alturaRef.hasError||this.$refs.cpRef.hasError||this.$refs.pisoRef.hasError||this.$refs.departamentoRef.hasError)}}};var d=a(4260),u=a(4379),m=a(151),p=a(5589),c=a(5269),f=a(4842),h=a(4554),y=a(5869),g=a(8886),b=a(8240),w=a(7518),$=a.n(w);const V=(0,d.Z)(n,[["render",t]]),R=V;$()(n,"components",{QPage:u.Z,QCard:m.Z,QCardSection:p.Z,QForm:c.Z,QInput:f.Z,QIcon:h.Z,QSeparator:y.Z,QToggle:g.Z,QBtn:b.Z})}}]);