"use strict";(self["webpackChunkedrans_client"]=self["webpackChunkedrans_client"]||[]).push([[385],{385:(e,o,a)=>{a.r(o),a.d(o,{default:()=>w});var l=a(3673);const s={class:"row justify-end q-py-sm"},t={class:"q-mr-md"},i={class:"row justify-center q-py-sm"};function n(e,o,a,n,r,d){const u=(0,l.up)("q-input"),c=(0,l.up)("q-btn"),g=(0,l.up)("q-separator"),p=(0,l.up)("q-card-section"),m=(0,l.up)("q-card"),h=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(h,{class:"flex flex-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:"login-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{modelValue:r.user.email,"onUpdate:modelValue":o[0]||(o[0]=e=>r.user.email=e),label:"Usuario"},null,8,["modelValue"]),(0,l.Wm)(u,{modelValue:r.user.password,"onUpdate:modelValue":o[1]||(o[1]=e=>r.user.password=e),type:r.isPwd?"password":"text",label:"ContraseÃ±a"},null,8,["modelValue","type"]),(0,l._)("div",s,[(0,l._)("div",t,[(0,l.Wm)(c,{flat:"",onClick:o[2]||(o[2]=e=>this.$router.push("/register")),color:"primary",label:"Registrarse",loading:r.loading},null,8,["loading"])]),(0,l._)("div",null,[(0,l.Wm)(c,{onClick:d.loginUser,color:"primary",label:"Login",loading:r.loading},null,8,["onClick","loading"])])]),(0,l.Wm)(g),(0,l._)("div",i,[(0,l._)("div",null,[(0,l.Wm)(c,{flat:"",onClick:e.facebookLogin,color:"primary",label:"Facebook Login",loading:r.loading},null,8,["onClick","loading"])])])])),_:1})])),_:1})])),_:1})}const r={name:"LoginPage",data(){return{loading:!1,isPwd:!0,user:{email:"",password:""}}},methods:{loginUser(){this.loading=!0,this.$axios.post("/api/user/login",this.user).then((e=>{this.loading=!1,e.data.token?(localStorage.setItem("token",e.data.token),this.$router.push("/")):this.$q.notify({position:"bottom-right",color:"negative",message:e.data.message})})).catch((e=>{console.log(e),this.loading=!1,this.$q.notify({position:"bottom-right",color:"negative",message:e.message})}))}},facebookLogin(){this.loading=!0,this.$axios.get("/api/user/facebook")}};var d=a(4260),u=a(4379),c=a(151),g=a(5589),p=a(4842),m=a(8240),h=a(5869),f=a(7518),k=a.n(f);const b=(0,d.Z)(r,[["render",n]]),w=b;k()(r,"components",{QPage:u.Z,QCard:c.Z,QCardSection:g.Z,QInput:p.Z,QBtn:m.Z,QSeparator:h.Z})}}]);