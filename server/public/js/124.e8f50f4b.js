"use strict";(self["webpackChunkedrans_client"]=self["webpackChunkedrans_client"]||[]).push([[124],{2124:(t,e,o)=>{o.r(e),o.d(e,{default:()=>z});var a=o(3673);function i(t,e,o,i,s,n){const l=(0,a.up)("product"),d=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(d,{padding:"",class:"flex justify-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(l)])),_:1})}var s=o(2323);const n=t=>((0,a.dD)("data-v-6b808b58"),t=t(),(0,a.Cn)(),t),l={class:"column productDetail"},d={class:"row"},c={class:"col-6 q-pa-sm"},r={class:"col-6 q-pa-sm column justify-between"},u={class:"text-h4"},p={class:"text-h6"},m={key:0,class:"row"},g={class:"column q-pa-sm"},h=n((()=>(0,a._)("div",{class:"text-h6"},"DescripciÃ³n",-1)));function q(t,e,o,i,n,q){const v=(0,a.up)("q-carousel-slide"),b=(0,a.up)("q-carousel"),D=(0,a.up)("q-rating"),_=(0,a.up)("q-input"),f=(0,a.up)("q-btn");return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",d,[(0,a._)("div",c,[(0,a.Wm)(b,{animated:"",thumbnails:"",modelValue:n.slide,"onUpdate:modelValue":e[0]||(e[0]=t=>n.slide=t),arrows:"",infinite:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.productDetails.fotos,((t,e)=>((0,a.wg)(),(0,a.j4)(v,{key:t,name:e+1,"img-src":"https://coderhouse-ecommerce.s3.amazonaws.com/"+t},null,8,["name","img-src"])))),128))])),_:1},8,["modelValue"])]),(0,a._)("div",r,[(0,a._)("div",null,[(0,a._)("div",u,(0,s.zw)(n.productDetails.nombre),1),(0,a._)("div",p,(0,s.zw)("$ "+n.productDetails.precio),1),(0,a._)("div",null,(0,s.zw)(n.productDetails.stock+" un. disponibles"),1),(0,a.Wm)(D,{modelValue:n.rating,"onUpdate:modelValue":e[1]||(e[1]=t=>n.rating=t),size:"2em",icon:"star"},null,8,["modelValue"])]),q.isLoggedIn?((0,a.wg)(),(0,a.iD)("div",m,[(0,a._)("div",null,[(0,a.Wm)(_,{modelValue:n.qty,"onUpdate:modelValue":e[2]||(e[2]=t=>n.qty=t),modelModifiers:{number:!0},type:"number",rules:[t=>t<=this.productDetails.stock||"No hay stock suficiente",t=>t>0||"La cantidad debe ser mayor a 0"],outlined:"",dense:"",style:{"max-width":"120px"},suffix:"un.",class:"q-mr-sm"},null,8,["modelValue","rules"])]),(0,a._)("div",null,[(0,a.Wm)(f,{disable:n.loading||n.qty<=0,loading:n.loading,icon:"add_shopping_cart",color:"primary",label:"Agregar",onClick:q.addToCart},null,8,["disable","loading","onClick"])])])):(0,a.kq)("",!0)])]),(0,a._)("div",g,[h,(0,a._)("div",null,(0,s.zw)(n.productDetails.descripcion),1)])])}const v={name:"ProductComponent",data(){return{loading:!1,slide:1,rating:4,qty:1,productDetails:{nombre:"",descripcion:"",categoria:"",precio:0,stock:0,fotos:[],id:""}}},created(){this.getProductDetails()},computed:{isLoggedIn(){return null!==this.$q.cookies.get("token")}},methods:{getProductDetails(){this.$axios({method:"GET",url:"/api/products/"+this.$route.params.id,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+this.$q.cookies.get("token")}}).then((t=>{this.productDetails=t.data.data,console.log(this.productDetails)})).catch((t=>{console.log(t)}))},addToCart(){this.loading=!0;const t={product:this.productDetails.id,qty:this.qty};console.log(t),this.$axios({method:"PUT",url:"/api/cart/add",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+this.$q.cookies.get("token")},data:t}).then((()=>{this.loading=!1,this.getProductDetails(),this.$q.notify({position:"bottom-right",color:"positive",message:"Producto agregado al carrito"})})).catch((t=>{this.loading=!1,this.$q.notify({position:"bottom-right",color:"negative",message:"Error al agregar al carrito"})}))}}};var b=o(4260),D=o(1277),_=o(4593),f=o(8833),k=o(4842),w=o(8240),y=o(7518),C=o.n(y);const P=(0,b.Z)(v,[["render",q],["__scopeId","data-v-6b808b58"]]),x=P;C()(v,"components",{QCarousel:D.Z,QCarouselSlide:_.Z,QRating:f.Z,QInput:k.Z,QBtn:w.Z});const V={name:"ProductDetailPage",components:{Product:x}};var $=o(4379);const j=(0,b.Z)(V,[["render",i]]),z=j;C()(V,"components",{QPage:$.Z})}}]);