"use strict";(self["webpackChunkedrans_client"]=self["webpackChunkedrans_client"]||[]).push([[791],{8791:(e,a,o)=>{o.r(a),o.d(a,{default:()=>q});var l=o(3673);const i={class:"row justify-end q-py-md"},n={class:"q-mr-md"},s={class:"row justify-center q-pt-md"};function t(e,a,o,t,d,r){const u=(0,l.up)("q-input"),c=(0,l.up)("q-btn"),g=(0,l.up)("q-separator"),p=(0,l.up)("q-card-section"),m=(0,l.up)("q-card"),b=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(b,{class:"flex flex-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:"login"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{modelValue:d.user.email,"onUpdate:modelValue":a[0]||(a[0]=e=>d.user.email=e),label:"Usuario"},null,8,["modelValue"]),(0,l.Wm)(u,{modelValue:d.user.password,"onUpdate:modelValue":a[1]||(a[1]=e=>d.user.password=e),type:d.isPwd?"password":"text",label:"ContraseÃ±a"},null,8,["modelValue","type"]),(0,l._)("div",i,[(0,l._)("div",n,[(0,l.Wm)(c,{disable:d.loading||d.fbLoading,flat:"",onClick:a[2]||(a[2]=e=>this.$router.push("/register")),color:"primary",label:"Registrarse"},null,8,["disable"])]),(0,l._)("div",null,[(0,l.Wm)(c,{disable:d.loading||d.fbLoading,onClick:r.loginUser,color:"primary",label:"Login",loading:d.loading},null,8,["disable","onClick","loading"])])]),(0,l.Wm)(g),(0,l._)("div",s,[(0,l._)("div",null,[(0,l.Wm)(c,{disable:d.loading||d.fbLoading,onClick:r.facebookLogin,icon:"fab fa-facebook-f",color:"primary",label:"Facebook Login",loading:d.fbLoading},null,8,["disable","onClick","loading"])])])])),_:1})])),_:1})])),_:1})}o(5363);var d=o(3617);const r={name:"LoginPage",data(){return{fbLoading:!1,loading:!1,isPwd:!0,user:{email:"",password:""}}},methods:{...(0,d.OI)({setAdmin:"user/setAdmin"}),loginUser(){this.loading=!0,this.$axios({method:"POST",url:"/api/user/login",headers:{"Content-Type":"application/json",Accept:"application/json"},data:this.user}).then((e=>{this.loading=!1,e.data.token?(localStorage.setItem("token",e.data.token),this.$router.push("/")):this.$q.notify({position:"bottom-right",color:"negative",message:e.data.message})})).catch((e=>{console.log(e),this.loading=!1,this.$q.notify({position:"bottom-right",color:"negative",message:e.message})}))},facebookLogin(){this.fbLoading=!0,this.loading=!0,window.location.replace("https://edranschallenge.herokuapp.com/api/user/facebook")}}};var u=o(4260),c=o(4379),g=o(151),p=o(5589),m=o(4842),b=o(8240),f=o(5869),h=o(7518),k=o.n(h);const w=(0,u.Z)(r,[["render",t]]),q=w;k()(r,"components",{QPage:c.Z,QCard:g.Z,QCardSection:p.Z,QInput:m.Z,QBtn:b.Z,QSeparator:f.Z})}}]);